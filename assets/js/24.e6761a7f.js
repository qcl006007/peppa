(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{520:function(s,n,a){"use strict";a.r(n);var e=a(6),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ ğŸ•µğŸ•µğŸ•µ")])]),s._v(" "),a("h2",{attrs:{id:"ast"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ast"}},[s._v("#")]),s._v(" AST")]),s._v(" "),a("p",[s._v("AST æŒ‡çš„æ˜¯ æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Tree, ASTï¼‰ã€‚æˆ–è®¸ä½ ä¼šç–‘é—®ï¼Œè¿™ä¸æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘æœ‰ä»€ä¹ˆå…³ç³»ä¹ˆï¼Ÿ\nåœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼ŒJavaScriptè½¬è¯‘ã€cssé¢„å¤„ç†å™¨ã€elintã€pretiier ç­‰ç­‰è¿™äº›æ¨¡å—æˆ‘ä»¬ä¸ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒç”¨åˆ°ï¼Œä½†å®ƒä»¬åœ¨æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹ä¸­å……å½“ç€é‡è¦çš„è§’è‰²ï¼Œè€Œæ‰€æœ‰çš„ä¸Šè¿°å·¥å…·ï¼Œéƒ½æ˜¯å»ºç«‹åœ¨ AST çš„åŸºç¡€ä¸Šã€‚")]),s._v(" "),a("h3",{attrs:{id:"ast-åˆè¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ast-åˆè¯†"}},[s._v("#")]),s._v(" AST åˆè¯†")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ (https://astexplorer.net/) å»å®é™…è§‚å¯Ÿï¼Œä¸€æ®µjsä»£ç åœ¨è½¬æ¢ä¸ºASTæ ‘åæ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("let add = (a,b) => a+b\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è½¬æ¢ä¸ºASTåï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "type": "Program",\n  "start": 0,\n  "end": 27,\n  "body": [\n    {\n      "type": "VariableDeclaration",\n      "start": 0,\n      "end": 25,\n      "declarations": [\n        {\n          "type": "VariableDeclarator",\n          "start": 4,\n          "end": 25,\n          "id": {\n            "type": "Identifier",\n            "start": 4,\n            "end": 7,\n            "name": "add"\n          },\n          "init": {\n            "type": "ArrowFunctionExpression",\n            "start": 10,\n            "end": 25,\n            "id": null,\n            "expression": true,\n            "generator": false,\n            "async": false,\n            "params": [\n              {\n                "type": "Identifier",\n                "start": 11,\n                "end": 12,\n                "name": "a"\n              },\n              {\n                "type": "Identifier",\n                "start": 14,\n                "end": 15,\n                "name": "b"\n              }\n            ],\n            "body": {\n              "type": "BinaryExpression",\n              "start": 20,\n              "end": 25,\n              "left": {\n                "type": "Identifier",\n                "start": 20,\n                "end": 21,\n                "name": "a"\n              },\n              "operator": "+",\n              "right": {\n                "type": "Identifier",\n                "start": 24,\n                "end": 25,\n                "name": "b"\n              }\n            }\n          }\n        }\n      ],\n      "kind": "let"\n    }\n  ],\n  "sourceType": "module"\n}  \n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br")])]),a("p",[s._v("ä¸€ä¸ª AST çš„æ ¹èŠ‚ç‚¹å§‹ç»ˆéƒ½æ˜¯ Programï¼›\nåœ¨æ ¹èŠ‚ç‚¹çš„ä¸‹é¢ï¼Œæœ‰ä¸€ä¸ªå˜é‡å£°æ˜ï¼ŒVariableDeclarationï¼Œå…¶èŠ‚ç‚¹çš„nameæ˜¯addã€‚\nè¿™ä¸ªaddå˜é‡è¢«åˆå§‹åŒ–ä¸ºç®­å¤´å‡½æ•°ï¼Œå«æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œnameåˆ†åˆ«ä¸ºaå’Œbã€‚\nå…¶å‡½æ•°ä½“æ˜¯ä¸€ä¸ªBinaryExpression(äºŒè¿›åˆ¶è¡¨è¾¾å¼)ï¼Œä¸€ä¸ªæ ‡å‡†çš„äºŒè¿›åˆ¶è¡¨è¾¾å¼åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("left(å·¦è¾¹)ï¼ša")])]),s._v(" "),a("li",[a("p",[s._v("operator(è¿ç®—ç¬¦)ï¼šåŠ å· +")])]),s._v(" "),a("li",[a("p",[s._v("right(å³è¾¹)ï¼šb")])])]),s._v(" "),a("p",[s._v("å…¶å®ASTæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç»„è§„åˆ™çš„JSONï¼Œæ“ä½œASTä¹Ÿå°±æ˜¯æŒ‰ç…§ä¸€å®šè§„åˆ™æˆ–è€…rulesæ“ä½œJSONé‡Œå„ä¸ªå±æ€§çš„å€¼ï¼Œä»è€Œå®ç°ä»£ç ä¼˜åŒ–ï¼Œä»£ç è½¬è¯‘ï¼Œä»£ç æ£€æŸ¥ç­‰ç­‰ç›®çš„ã€‚")]),s._v(" "),a("h3",{attrs:{id:"ast-èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ast-èŠ‚ç‚¹"}},[s._v("#")]),s._v(" AST èŠ‚ç‚¹")]),s._v(" "),a("p",[s._v("ASTèŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹çš„å±æ€§ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/ast_node.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"babel-å·¥ä½œåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-å·¥ä½œåŸç†"}},[s._v("#")]),s._v(" Babel å·¥ä½œåŸç†")]),s._v(" "),a("p",[a("img",{attrs:{src:"/images/ast_01.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"api-æ€»è§ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-æ€»è§ˆ"}},[s._v("#")]),s._v(" API æ€»è§ˆ")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// ä¸‰å‰‘å®¢\nconst parser = require('@babel/parser').parse;\nconst traverse = require('@babel/traverse').default;\nconst generate = require('@babel/generator').default;\n\n// é…å¥—åŒ…\nconst types = require('@babel/types');\n\n// æ¨¡æ¿åŒ…\nconst template = require('@babel/template').default;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);